(()=>{"use strict";var e={546:(e,t,s)=>{s.r(t)},579:(e,t,s)=>{s.r(t)},787:(e,t,s)=>{s.r(t)},717:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(s(842)),a=r(s(527));t.default=class{constructor(){this.controller=new i.default,this.view=new a.default}start(){let e;this.controller.getSources((e=>this.view.drawFilters(e,this.view.filter.artists,"artist"))),this.controller.getSources((e=>this.view.drawFilters(e,this.view.filter.genres,"genre"))),this.controller.getSources((e=>this.view.drawFilters(e,this.view.filter.labels,"label"))),this.controller.getSources((e=>this.view.drawFilters(e,this.view.filter.formats,"format"))),this.controller.getSources((t=>{this.view.drawAlbums(t),document.querySelectorAll("select").forEach((s=>{s.addEventListener("change",(()=>{const r=this.controller.appFilter.filterOpts;r[s.name]=s.value,e=this.controller.appFilter.filterBy(r,t),document.querySelector(".items").innerHTML="",this.view.drawAlbums(e)}))}))}))}}},769:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.filterOpts={artist:"",genre:"",label:"",format:""}}filterBy(e,t){const s=[];let r=0;for(const t in e)e[t]&&r++;return t.forEach((t=>{let i=r;for(const s in e)"string"==typeof t[s]&&t[s]===e[s]&&i--,"object"==typeof t[s]&&t[s].includes(e[s])&&i--;0===i&&s.push(t)})),s}}},853:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(s(24));class a extends i.default{constructor(){super("db.json")}}t.default=a},842:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(s(853)),a=r(s(769));class n extends i.default{constructor(){super(),this.appFilter=new a.default}getSources(e){super.getResp(e)}}t.default=n},24:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.link=e}load(e){fetch(this.link).then((e=>e.json())).then((t=>e(t))).catch((e=>console.error(e)))}getResp(e){this.load(e)}}},805:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),s(546),t.default=class{draw(e){const t=[];e.forEach((e=>{t.push(e)})),t.forEach((e=>{const t=document.createElement("div");t.classList.add("items__item"),t.classList.add("item");const s=document.createElement("p");s.classList.add("item__album-title"),s.innerText=`${e.artist} - ${e.album} (${e.year})`,t.append(s);const r=document.createElement("img");r.classList.add("item__album-cover"),r.setAttribute("src",e.cover),r.setAttribute("alt","album-cover"),t.append(r);const i=document.createElement("div");i.classList.add("item__info");const a=document.createElement("span");a.classList.add("item-price"),a.innerText=`$${e.price}`,i.append(a);const n=document.createElement("span");n.classList.add("item-format"),n.innerText=`${e.format}`,i.append(n);const o=document.createElement("i");o.classList.add("item__cart"),o.classList.add("fa-solid"),o.classList.add("fa-cart-shopping"),i.append(o);const l=document.createElement("i");l.classList.add("fa-solid"),l.classList.add("fa-star"),e.favorite?l.classList.add("item__favorite--checked"):l.classList.add("item__favorite"),i.append(l),t.append(i),document.querySelector(".items").append(t)}))}}},527:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(s(805)),a=r(s(747));t.default=class{constructor(){this.albums=new i.default,this.filter=new a.default}drawAlbums(e){const t=document.createElement("p");t.classList.add("items__default"),t.innerText="Sorry, nothing to show...",0===e.length&&document.querySelector(".items").append(t),this.albums.draw(e)}drawFilters(e,t,s){this.filter.getOptions(e,t,s),this.filter.drawStringFilters(s,t)}}},747:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),s(579),t.default=class{constructor(){this.artists=new Set,this.genres=new Set,this.labels=new Set,this.formats=new Set}getOptions(e,t,s){e.forEach((e=>{if("string"==typeof e[s]&&t.add(e[s]),"object"==typeof e[s])for(const r of e[s])t.add(r)}))}drawStringFilters(e,t){const s=document.querySelector(".filter"),r=document.createElement("div");r.classList.add("filter__select"),r.classList.add(`select__${e}`);const i=document.createElement("select");i.id=`${e}`,i.setAttribute("name",`${e}`);const a=document.createElement("option");a.setAttribute("selected",""),a.setAttribute("value",""),a.innerText=`--Please chose ${e}--`,i.append(a),t.forEach((e=>{const t=document.createElement("option");t.setAttribute("value",e),t.innerText=e,i.append(t)})),r.append(i),s.append(r)}}},607:function(e,t,s){var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),s(787),(new(r(s(717)).default)).start()}},t={};function s(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,s),a.exports}s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s(607)})();